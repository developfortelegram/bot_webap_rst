<!doctype html>
<html lang="en">
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

</head>
<body>
    <div class="container ">
        <div class="col-md-6 offset-md-3">
            <form id="tg">
                <div class="form-group">
                    <label class="form-label">Name</label>
                    <textarea name="textdesc" class="form-control" id="textDesc" rows="10" cols="40"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Select an option</label>
                    <div id="optionSelect">
                        <!-- Вставляємо JavaScript-код для генерації варіантів на основі переданих параметрів -->
                        <script>
                            // Отримуємо значення параметра "options" з URL-адреси
                            const urlParams = new URLSearchParams(window.location.search);
                            const optionsParam = urlParams.get('options');

                            // Парсимо рядок параметра "options" у масив за допомогою роздільника
                            const options = optionsParam ? optionsParam.split(';') : [];

                            // Отримуємо значення параметра "param" з URL-адреси
                            const myParam = urlParams.get('param');

                            // Генеруємо варіанти вибору на основі переданих параметрів
                            const optionSelect = document.querySelector('#optionSelect');
                            options.forEach(option => {
                                const checkbox = document.createElement('input');
                                checkbox.type = 'checkbox';
                                checkbox.name = option;
                                checkbox.value = option;
                                checkbox.checked = myParam === option;

                                const label = document.createElement('label');
                                label.appendChild(document.createTextNode(option));
                                label.appendChild(checkbox);

                                optionSelect.appendChild(label);
                                const lineBreak = document.createElement('br');
                                optionSelect.appendChild(lineBreak);
                            });
                        </script>
                    </div>
                </div>




                <button type="submit" class="btn btn-primary mt-4" id="submitBtn">Send</button>
            </form>
        </div>
    </div>


    <script>
        // Отримуємо значення параметра "param" з URL-адреси
        const urlParams = new URLSearchParams(window.location.search);
        const myParam = urlParams.get('param');

        // Знаходимо елемент textarea та встановлюємо йому значення параметра "param"
        const textArea = document.querySelector('textarea[name="textdesc"]');
        textArea.value = myParam;
    </script>


    <script src="app.js"></script>

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>-->
</body>
</html>
